function loadImg(){function e(){s=new Image,s.onload=a,s.src=l.result}function a(){var e=$(".imgcanv")[0],a=e.getContext("2d"),i=s.naturalWidth,l=s.naturalHeight,d=e.width,t=e.height;if(i>l){var r=l/t*100;if(100>=r)$("main").addClass("hasimg"),a.clearRect(0,0,d,t),a.drawImage(s,d/2-(i-40)/2,t/2-(l-40)/2,i-40,l-40),$(".loader").toggleClass("hide");else{var o=r-100,n=l-l/100*o;$("main").addClass("hasimg"),a.clearRect(0,0,d,t),a.drawImage(s,d/2-(d-40)/2,t/2-(n-40)/2,d-40,n-40),$(".loader").toggleClass("hide")}}else if(l>=i){var g=l/t*100;if(100>=g)$("main").addClass("hasimg"),a.clearRect(0,0,d,t),a.drawImage(s,d/2-(i-40)/2,t/2-(l-40)/2,i-40,l-40),$(".loader").toggleClass("hide");else{var m=g/100,c=i/m;$("main").addClass("hasimg"),a.clearRect(0,0,d,t),a.drawImage(s,d/2-(c-40)/2,t/2-(t-40)/2,c-40,t-40),$(".loader").toggleClass("hide")}}}var i,l,s,d=$(".loadimg")[0];return $(".loader").toggleClass("hide"),"function"!=typeof window.FileReader?(alert("FILTERR is not supported by your browser!"),!1):(d?d.files?d.files[0]?(i=d.files[0],l=new FileReader,l.onload=e,l.readAsDataURL(i)):alert("Please select a file first!"):alert('Browser does not support "files" property of file inputs.'):alert("No file!"),void 0)}$(function(){$(".svgload").load("../svg/svgdefs.html"),$(".imgcanv")[0].width=window.innerWidth,$(".imgcanv")[0].height=window.innerHeight-150,$(".submitload").on("click",loadImg)});