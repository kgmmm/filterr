function loadImg(){function e(){t=new Image,t.onload=a,t.src=n.result}function a(){var e=$(".imgcanv")[0],a=e.getContext("2d"),i=t.naturalWidth,n=t.naturalHeight,l=e.width,d=e.height;if(i>n){var o=i/l*100;if(100>=o)$("main").addClass("hasimg"),a.clearRect(0,0,l,d),a.drawImage(t,l/2-(i-40)/2,d/2-(n-40)/2,i-40,n-40),$(".loader").toggleClass("hide");else{var s=o/100,r=n/s;$("main").addClass("hasimg"),a.clearRect(0,0,l,d),a.drawImage(t,l/2-(l-40)/2,d/2-(r-40)/2,l-40,r-40),$(".loader").toggleClass("hide")}}else if(n>=i){var g=n/d*100;if(100>=g)$("main").addClass("hasimg"),a.clearRect(0,0,l,d),a.drawImage(t,l/2-(i-40)/2,d/2-(n-40)/2,i-40,n-40),$(".loader").toggleClass("hide");else{var s=g/100,h=i/s;$("main").addClass("hasimg"),a.clearRect(0,0,l,d),a.drawImage(t,l/2-(h-40)/2,d/2-(d-40)/2,h-40,d-40),$(".loader").toggleClass("hide")}}}var i,n,t,l=$(".loadimg")[0];return $(".loader").toggleClass("hide"),"function"!=typeof window.FileReader?(alert("FILTERR is not supported by your browser!"),!1):(l?l.files?l.files[0]?(i=l.files[0],n=new FileReader,n.onload=e,n.readAsDataURL(i)):alert("Please select a file first!"):alert('Browser does not support "files" property of file inputs.'):alert("No file!"),void 0)}$(function(){var e;$(".svgload").load("../svg/svgdefs.html"),$(window).on("resize",function(){clearTimeout(e),e=setTimeout(function(){$("main").hasClass("hasimg")?($(".imgcanv")[0].width=window.innerWidth,$(".imgcanv")[0].height=window.innerHeight-150,loadImg()):($(".imgcanv")[0].width=window.innerWidth,$(".imgcanv")[0].height=window.innerHeight-150)},250)}),$(".imgcanv")[0].width=window.innerWidth,$(".imgcanv")[0].height=window.innerHeight-150,$(".submitload").on("click",loadImg)});